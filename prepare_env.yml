    zookeeper:
        image: confluentinc/cp-zookeeper:5.3.1
        restart: always
        ports:
            - 2181:2181
        environment:
            ZOOKEEPER_CLIENT_PORT: 2181
            ZOOKEEPER_TICK_TIME: 2000
    kafka:
    # -----------------------------------------------------------------------------
    # For connections internal to the docker network, such as from other services
    # and components, use kafka:29092.
    #
    # See https://rmoff.net/2018/08/02/kafka-listeners-explained/ for details
    # -----------------------------------------------------------------------------
        image: confluentinc/cp-kafka:5.3.1
        restart: always
        depends_on:
            - zookeeper
        ports:
            - 9092:9092
        environment:
            KAFKA_BROKER_ID: 1
            KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181
            KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092
            KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT
            KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT
            KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1
    mongo:
        image: mongo
        restart: always
        ports:
        - 27017:27017
    app:
        build:
            context: .
        restart: always
        ports:
            - 12000:12000
        environment:
            MONGO_PRIMARY_URI: mongodb://mongo:27017/mydb
            MONGO_REPLICA_URI: mongodb://mongo:27017/mydb
            NODE_ENV: development 
            ENTRYPOINT_HTTP_PORT: 12000
            ENTRYPOINT_GRPC_PORT: 3333
            KAFKA_HOST=localhost: 9092
            KAFKA_CONNECT_TIMEOUT: 1000
            TODO_TOPIC: todo_topic
        depends_on:
            - mongo
            - kafka